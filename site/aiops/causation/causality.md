# causality

## 算法简介

概率因果模型是处理因果关系的一种框架，它使用概率分布来描述变量之间的因果关系。本文使用的causality库实现了潜在遍历啊ing的归纳因果关系(Inductive Causation with latent variables, IC)算法，是一种基于有向图的推断方法，通过观察变量间的条件独立性关系来推断它们之间的因果关系。IC算法通过对原始数据进行条件独立性测试，来构建一个图模型，其中每个节点代表一个变量，有向边代表变量之间的因果关系。算法首先构建一个完全的有向图，然后通过一系列的递归规则逐步减少不必要的边，最终得到一个合理的因果图模型。

## 使用场景

本算法适用于对 `离散型`的数据进行因果推断

## 算法原理

算法的核心思想是利用 `条件独立性关系`，通过观测数据的统计特征来推断因果关系。它可以处理潜在变量和选择性遗漏等问题，并能够在复杂的因果关系网络中进行推断。具体的流程如下：

(1) 数据准备：离散数据，比如A B C D四个节点，节点A出现为1，未出现为0；

(2) 构建完全图：构建一个有向完全图，其中每个节点都与其他节点存在有向边链接；

(3) 条件独立性测试：对图中的每对变量，进行条件独立性测试判断是否存在因果关系；

(4) 递归：根据条件独立性测试的结果，应用一系列递归规则来逐渐减少图中的边。递归规则包括：递归规则①如果变量A与变量B条件独立，并且变量B与变量C条件独立，则可以推断出变量A与变量C之间不存在直接因果关系，移除A与C之间的边；②如果变量A与变量B条件独立，并且变量C是A与B的共同邻居（即与A和B共同有边连接），则可以推断出变量A与变量B之间存在一个共同的因果关系，在A与B之间添加一个边；

(5) 确定有向边的方向：通过观察变量在递归规则过程中被操作的顺序，确定有向边的方向。如果一个变量在添加了某个边之后，又被移除或替换了多次，那么该边就可以确认方向；

(6) 得到最终的因果图：经过递归规则处理后，得到的图就是最终的因果图，表示变量之间的因果关系。
